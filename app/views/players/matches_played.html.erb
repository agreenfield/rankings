 <body>
  <h3><%= "#{@player.name} Matches" %></h3>
  <table class="table table-striped">
    <thead>
      <tr>
        <th>Date</th>
        <th>Result</th>
        <th>Opponent</th>
        <th>Score</th>
        <th colspan="3"></th>
      </tr>
    </thead>

    <tbody>
      <% @matches.each do |m| %>
        <% if @player.id == m.winner_id %>
        <%   won = true %>
        <% end %>

        <% if won %>
          <tr class="success">
        <% else %>
          <tr class="danger">
        <% end %>

          <td><%= m.date.strftime("%A, %x") %> </td>
    
          <% if won %>
            <td>Defeated</td>
            <td><%= m.loser.name %></td>
          <% else %>
            <td>Lost to</td>
            <td><%= m.winner.name %></td>
          <% end %>

          <td><%= "#{m.winner_score}/#{m.loser_score}" %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
</body>